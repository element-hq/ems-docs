<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js element">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Signal Bridge - Element Documentation</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Documentation for Element and EMS by the EMS team">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../src/book-assets/element-theme.css">
        <link rel="stylesheet" href="../src/book-assets/font.css">
        <link rel="stylesheet" href="../src/book-assets/logo.css">
        <link rel="stylesheet" href="../src/book-assets/remove-nav-buttons.css">
        <link rel="stylesheet" href="../src/book-assets/style.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "element";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('element')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html">Element Docs</a></li><li class="chapter-item expanded "><a href="../Frequently-Asked-Questions.html">Frequently Asked Questions</a></li><li class="chapter-item expanded affix "><li class="part-title">Element Matrix Services</li><li class="chapter-item expanded "><a href="../Add-Additional-Users.html">Add Additional Users</a></li><li class="chapter-item expanded "><a href="../Add-Users.html">Add Users</a></li><li class="chapter-item expanded "><a href="../Client-Look-and-Feel.html">Client Look &amp; Feel</a></li><li class="chapter-item expanded "><a href="../EMS-Server-With-Custom-Domain.html">EMS Server With Custom Domain</a></li><li class="chapter-item expanded "><a href="../Get-Your-Own-EMS-Server.html">Get Your Own EMS Server</a></li><li class="chapter-item expanded "><a href="../Reset-User-Password.html">Reset User Password</a></li><li class="chapter-item expanded "><a href="../Migrate-From-Self-Hosted-to-EMS.html">Migrate From Self-Hosted to EMS</a></li><li class="chapter-item expanded "><a href="../Import-Database-and-Media-Dump.html">Import Database and Media Dump</a></li><li class="chapter-item expanded affix "><li class="part-title">Integrations</li><li class="chapter-item expanded "><a href="../Create-a-Conference-Call-in-a-Room.html">Create a Conference Call in a Room</a></li><li class="chapter-item expanded "><div>Authentication</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../authentication/Google-SAML.html">Google SAML</a></li><li class="chapter-item expanded "><a href="../authentication/LDAP-Active-Directory.html">LDAP Active Directory</a></li><li class="chapter-item expanded "><a href="../authentication/OpenID-Connect.html">OpenID Connect</a></li></ol></li><li class="chapter-item expanded "><div>EMS bridges</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../integrations/Discord-Bridge.html">Discord Bridge</a></li><li class="chapter-item expanded "><a href="../integrations/Signal-Bridge.html" class="active">Signal Bridge</a></li><li class="chapter-item expanded "><a href="../integrations/ems-Slack-Bridge.html">Slack Bridge</a></li><li class="chapter-item expanded "><a href="../integrations/Teams-Bridge.html">Teams Bridge</a></li><li class="chapter-item expanded "><a href="../integrations/Telegram-Bridge.html">Telegram Bridge</a></li><li class="chapter-item expanded "><a href="../integrations/WhatsApp-Bridge.html">WhatsApp Bridge</a></li></ol></li><li class="chapter-item expanded "><div>Matrix.org hosted bridges</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../integrations/morg-IRC-Bridge.html">Public IRC Bridges</a></li><li class="chapter-item expanded "><a href="../integrations/morg-Slack-Bridge.html">Public Slack Bridge</a></li></ol></li><li class="chapter-item expanded "><div>Extensions</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../integrations/Admin-Bot.html">Admin Bot</a></li><li class="chapter-item expanded "><a href="../integrations/Audit-Bot.html">Audit Bot</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Element</li><li class="chapter-item expanded "><a href="../Add-Email-to-Your-Account.html">Add Email to Your Account</a></li><li class="chapter-item expanded "><a href="../Change-Account-Password.html">Change Account Password</a></li><li class="chapter-item expanded "><a href="../Submit-Debug-Logs.html">Submit Debug Logs</a></li><li class="chapter-item expanded affix "><li class="part-title">Cross Signing</li><li class="chapter-item expanded "><a href="../Set-up-Cross-Signing.html">Set up Cross Signing</a></li><li class="chapter-item expanded "><a href="../Check-Status.html">Check Status</a></li><li class="chapter-item expanded "><a href="../Export-and-Import-E2E-Room-Keys.html">Export and Import E2E Room Keys</a></li><li class="chapter-item expanded "><a href="../Reset-Cross-Signing.html">Reset Cross Signing</a></li><li class="chapter-item expanded "><a href="../Verify-new-Login.html">Verify new Login</a></li><li class="chapter-item expanded affix "><li class="part-title">Non-English</li><li class="chapter-item expanded "><a href="../Nutzung-der-eigenen-Domain-mit-EMS.html">Deutsch: Nutzung der eigenen Domain mit EMS</a></li><li class="chapter-item expanded affix "><li class="part-title">Contribute</li><li class="chapter-item expanded "><a href="../Contribute.html">Contribute</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="element">Element (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        <img alt="Element logo" class="header-logo" src="">
                    </div>

                    <h1 class="menu-title">Element Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/vector-im/ems-docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/vector-im/ems-docs/edit/main/src/integrations/Signal-Bridge.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <h1 id="signal-bridge"><a class="header" href="#signal-bridge">Signal Bridge</a></h1>
<p>This guide explains how to use the Signal bridge from the EMS Integration Manager to integrate your Signal chats with your EMS server.</p>
<p>It requires your EMS server to have federation on.</p>
<p>The following instructions are done with the  Element Desktop on the Element side and on Element iOS for the Signal side. Element Android should be almost identical to Element Web.</p>
<h2 id="purchase-the-signal-integration"><a class="header" href="#purchase-the-signal-integration">Purchase the Signal integration</a></h2>
<ol>
<li>
<p>Open the EMS control panel at: <a href="https://ems.element.io/user/hosting">https://ems.element.io/user/hosting</a><br />
Click the <code>Integrations</code> tab  and if you have more than one server, select the server you wish to add the Signal integration to<br />
<img src="/images/click-integration-tab-ems-user-hosting.png" alt="temp" /></p>
</li>
<li>
<p>Click on <code>Signal Bridge</code> in the list of available Bridges
<img src="/images/bridge-integration-list.png" alt="temp" /></p>
</li>
<li>
<p>Enter the maximum number of users in <code>Maximum Signal users</code>.<br />
Please note:  <strong>this is the maximum number of Signal users who actually send messages over the bridge each month. You are only billed for the number of Signal users who are active. Once you exceed the maximum, then the bridge will be disabled until you increase the maximum.</strong><br />
If you enter less than <code>5</code>, you will get a warning<br />
<img src="/images/integrations/Signal-Bridge/low-rmau-warning.png" alt="temp" /><br />
If you enter <code>5</code> or greater in <code>Maximum Signal users</code>, you will not see a warning<br />
<img src="/images/integrations/Signal-Bridge/enter-number-users-click-purchase.png" alt="temp" /><br />
Once you have entered <code>Maximum Signal users</code>, click <code>Purchase</code> (remember you can always go back to this step and increase the maximum number of Signal users if you need more in the future).</p>
</li>
<li>
<p>A dialogue will remind you of the price per user and ask if you wish to proceed. Click <code>Purchase</code> if you wish to proceed with the Signal Integration<br />
<img src="/images/integrations/Signal-Bridge/confirm-subscription-click-purchase.png" alt="temp" /></p>
</li>
<li>
<p>You will have to wait a few minutes while your host is reprovisioned with the Signal bridge.
Once reprovisioning is finished, you are able to bridge Signal to your EMS server using your Element client.</p>
</li>
</ol>
<h2 id="bridge-signal-to-your-element-account"><a class="header" href="#bridge-signal-to-your-element-account">Bridge Signal to your Element account</a></h2>
<ol>
<li>
<p>Once the bridge is running, open your Element app. Click on the <code>+</code> next to <code>People</code>
<img src="/images/start-chat.png" alt="temp" /></p>
</li>
<li>
<p>Create a Direct Message conversation by typing <code>@signalbot:example.ems.host</code> (replace the domain with the one of your homeserver). Then click<code>Go</code>
<img src="/images/integrations/Signal-Bridge/dm-bot.png" alt="temp" /></p>
</li>
<li>
<p>The bridge account will join your room and tell you how to use it
<img src="/images/integrations/Signal-Bridge/bot-joins-room.png" alt="temp" /></p>
</li>
<li>
<p>Open Signal on your mobile device (iOS or Android) and tap on your avatar to go to <code>Settings</code> and then <code>Linked Devices</code> and then <code>Link New Device</code> to start the Signal QR code scanner. You will use this QR code scanner to scan a QR code displayed by your Element client in the next step<br />
<img src="/images/integrations/Signal-Bridge/signal-ios-qrcode.jpg" alt="temp" /></p>
</li>
<li>
<p>From your Element client, send a <code>link</code> message to the bot to connect to your Signal account<br />
<img src="/images/integrations/Signal-Bridge/send-link-message.png" alt="temp" /></p>
</li>
<li>
<p>A QR code will be displayed. Quickly scan the QR code with Signal on your mobile device. You have about a minute before it times out. If it times out, just send the <code>link</code> message again to generate another QR code<br />
<img src="/images/integrations/Signal-Bridge/qr-code-from-link-command.png" alt="temp" /></p>
</li>
<li>
<p>On your Element client, you will see <code>Successfully logged in as &lt;your_phone_number&gt;</code> e.g. <code>Successfully logged in as +1 555-555-5555</code> and you will see invitations for each of your Signal chats in your Element client. Each Signal chat is a separate Matrix room. Join one or more chats and start chatting from either your Element app on desktop, iOS or Android or your Signal on mobile.</p>
</li>
</ol>
<h2 id="sending-a-message-to-a-signal-user"><a class="header" href="#sending-a-message-to-a-signal-user">Sending a message to a Signal User</a></h2>
<p>To send a message to a Signal user, you must first be connected to the bridge (see above).</p>
<ol>
<li>On your Element client, open the &quot;Signal bridge bot&quot; room.</li>
<li>Say <code>pm</code> followed by the phone number for your contact.</li>
<li>You will be invited to a DM with that user, and can send messages to them.</li>
</ol>
<h2 id="why-do-signal-user-names-show-up-as-phone-numbers"><a class="header" href="#why-do-signal-user-names-show-up-as-phone-numbers">Why do Signal user names show up as phone numbers?</a></h2>
<p>Some signal users may appear as a phone number rather than their real name. This can because of one of the following reasons:</p>
<ol>
<li>The user has not spoken to you on Signal yet, and so has not sent their profile information.</li>
<li>The user has not added you as a contact on their phone.</li>
<li>The Signal bridge has not yet synchronized the profile information of the user from Signal (this should happen fairly soon after your first interaction).</li>
</ol>
<h2 id="ems-does-not-support-the-bridge-as-a-primary-device-and-the-register-command-is-not-supported"><a class="header" href="#ems-does-not-support-the-bridge-as-a-primary-device-and-the-register-command-is-not-supported">EMS does not support the bridge as a primary device and the <code>register</code> command is not supported</a></h2>
<p>The EMS Signal Bridge is implemented as a secondary device bridge in order to prevent Signal from ratelimiting the bridge. This means that
the <code>register</code> command is not supported and you still need Signal installed on your iOS or Android device.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../integrations/Discord-Bridge.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../integrations/ems-Slack-Bridge.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../integrations/Discord-Bridge.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../integrations/ems-Slack-Bridge.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../src/book-assets/sidebar.js"></script>
    </body>
</html>
